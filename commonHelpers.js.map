{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["// створи функції для відображення елементів інтерфейсу\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nvar lightbox = new SimpleLightbox('.gallery a', { \n        captionsData: \"alt\",\n        captionDelay: 250\n    });\n\nconst per_page = 15;\n\nfunction renderGallery(hits, gallery) {\n    gallery.innerHTML = hits.map((pic) => `\n      <li class=\"gallery-item\">\n        <a href=\"${pic.largeImageURL}\">\n          <img class=\"gallery-image\" src=\"${pic.webformatURL}\" alt=\"${pic.tags}\" />\n        </a>\n        <div class=\"info\">\n          <div class=\"field\">\n            <b class=\"label\">Likes</b>\n            <span class=\"value\" data-likes>${pic.likes}</span>\n          </div>\n          <div class=\"field\">\n            <b class=\"label\">Views</b>\n            <span class=\"value\" data-views>${pic.views}</span>\n          </div>\n          <div class=\"field\">\n            <b class=\"label\">Commments</b>\n            <span class=\"value\" data-commments>${pic.comments}</span>\n          </div>\n          <div class=\"field\">\n            <b class=\"label\">Downloads</b>\n            <span class=\"value\" data-downloads>${pic.downloads}</span>\n          </div>\n        </div>\n      </li>`\n    ).join(\"\");\n\n    lightbox.refresh();\n};\n\nfunction renderLoadBtn(totalPages, loadContainer, currentPage) {\n  console.log(totalPages, currentPage);\n  if (totalPages === currentPage) {\n    loadContainer.innerHTML = \"\";\n  } else if (totalPages > 1) {\n    loadContainer.innerHTML = `<button class=\"load-button\">Load more</button>`;\n  } else {\n    loadContainer.innerHTML = \"\";\n  }\n}\n\nexport { renderGallery,  renderLoadBtn};\n","// зберігай функції для HTTP-запитів.\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { renderGallery, renderLoadBtn } from \"./render-functions\";\nimport axios from 'axios';\n\nconst MY_KEY = \"43507759-1cdf1229fe6b1935ead7e315b\";\nconst loading = `<span class=\"loader\"></span>`;\n\nlet page = 1;\nconst per_page = 15;\nlet totalPages;\n\nasync function getFirstImages(searchTerm, gallery, loadContainer) {\n    page = 1;\n\n    gallery.innerHTML = loading;\n    try {\n        const { data } = await axios('https://pixabay.com/api/', {\n            params: {\n                key: MY_KEY,\n                q: searchTerm,\n                image_type: \"photo\",\n                orientation: \"horizontal\",\n                safesearch: true,\n                per_page,\n                page\n            }\n        });\n        totalPages = Math.ceil(data.totalHits / per_page);\n        \n        if (data.hits.length === 0) {\n            gallery.innerHTML = \"\";\n            iziToast.error({ message: \"Sorry, there are no images matching your search query. Please try again!\" })\n        } else {\n            renderGallery(data.hits, gallery);\n            renderLoadBtn(totalPages, loadContainer, page);\n        }\n    } catch (error) {\n        iziToast.error({ message: error.message })\n    }\n}\n\n// function getNextImages() {\n\n// }\n\nexport { getFirstImages };","import { getFirstImages } from \"./js/pixabay-api\";\n\nconst form = document.querySelector(\".container\")\nconst searchTerm = document.querySelector(\".searchTerm\");\nconst gallery = document.querySelector(\".gallery\");\nform.addEventListener(\"submit\", onFormSubmit);\n// const newLoadBtn = `<button class=\"load-button\">Load more</button>`;\nconst loadContainer = document.querySelector(\".load-container\");\n\n\n\nfunction onFormSubmit(e) {\n    e.preventDefault();\n    getFirstImages(searchTerm.value, gallery, loadContainer);\n}\n\nfunction onLoadClick(e) {\n\n}"],"names":["lightbox","SimpleLightbox","renderGallery","hits","gallery","pic","renderLoadBtn","totalPages","loadContainer","currentPage","MY_KEY","loading","page","per_page","getFirstImages","searchTerm","data","axios","iziToast","error","form","onFormSubmit","e"],"mappings":"owBAIA,IAAIA,EAAW,IAAIC,EAAe,aAAc,CACxC,aAAc,MACd,aAAc,GACtB,CAAK,EAIL,SAASC,EAAcC,EAAMC,EAAS,CAClCA,EAAQ,UAAYD,EAAK,IAAKE,GAAQ;AAAA;AAAA,mBAEvBA,EAAI,aAAa;AAAA,4CACQA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,6CAKjCA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,6CAITA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,iDAILA,EAAI,QAAQ;AAAA;AAAA;AAAA;AAAA,iDAIZA,EAAI,SAAS;AAAA;AAAA;AAAA,YAI9D,EAAM,KAAK,EAAE,EAETL,EAAS,QAAO,CACpB,CAEA,SAASM,EAAcC,EAAYC,EAAeC,EAAa,CAC7D,QAAQ,IAAIF,EAAYE,CAAW,EAC/BF,IAAeE,EACjBD,EAAc,UAAY,GACjBD,EAAa,EACtBC,EAAc,UAAY,iDAE1BA,EAAc,UAAY,EAE9B,CC5CA,MAAME,EAAS,qCACTC,EAAU,+BAEhB,IAAIC,EAAO,EACX,MAAMC,EAAW,GACjB,IAAIN,EAEJ,eAAeO,EAAeC,EAAYX,EAASI,EAAe,CAC9DI,EAAO,EAEPR,EAAQ,UAAYO,EACpB,GAAI,CACA,KAAM,CAAE,KAAAK,CAAI,EAAK,MAAMC,EAAM,2BAA4B,CACrD,OAAQ,CACJ,IAAKP,EACL,EAAGK,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAAF,EACA,KAAAD,CACH,CACb,CAAS,EACDL,EAAa,KAAK,KAAKS,EAAK,UAAYH,CAAQ,EAE5CG,EAAK,KAAK,SAAW,GACrBZ,EAAQ,UAAY,GACpBc,EAAS,MAAM,CAAE,QAAS,0EAA0E,CAAE,IAEtGhB,EAAcc,EAAK,KAAMZ,CAAO,EAChCE,EAAcC,EAAYC,EAAeI,CAAI,EAEpD,OAAQO,EAAO,CACZD,EAAS,MAAM,CAAE,QAASC,EAAM,OAAO,CAAE,CAC5C,CACL,CCvCA,MAAMC,EAAO,SAAS,cAAc,YAAY,EAC1CL,EAAa,SAAS,cAAc,aAAa,EACjDX,EAAU,SAAS,cAAc,UAAU,EACjDgB,EAAK,iBAAiB,SAAUC,CAAY,EAE5C,MAAMb,EAAgB,SAAS,cAAc,iBAAiB,EAI9D,SAASa,EAAaC,EAAG,CACrBA,EAAE,eAAc,EAChBR,EAAeC,EAAW,MAAOX,EAASI,CAAa,CAC3D"}